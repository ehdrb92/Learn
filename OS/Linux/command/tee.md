Linux의 `tee` 명령은 표준 입력(stdin)에서 읽고 표준 출력(stdout)과 하나 이상의 파일에 동시에 쓰는 명령줄 유틸리티입니다. 그 이름은 배관에서 사용되는 T-분배기에서 유래되었으며, 이 분배기는 물 흐름을 두 방향으로 분리하는 것과 마찬가지로, `tee`는 프로그램의 출력 스트림을 분리하여 디스플레이에서 볼 수 있게 하고 동시에 파일에 저장할 수 있게 합니다.

### 기본 사용법

`tee` 명령의 기본 구문은 다음과 같습니다:

```bash
command | tee file1
```

이것은 `command`의 출력을 화면에 표시하고 `file1`에도 저장합니다. `file1`이 이미 존재하는 경우, `tee`는 기본적으로 파일을 덮어씁니다.

### 유용한 옵션들

- **`-a` 또는 `--append`**: 기존 파일을 덮어쓰는 대신, 이 옵션은 `tee`에게 출력을 파일 끝에 추가하라고 지시합니다. 이는 기존 내용을 잃어버리지 않고 로그 파일에 새 데이터를 추가하고 싶을 때 특히 유용합니다.

  ```bash
  command | tee -a file1
  ```

- **`-i` 또는 `--ignore-interrupts`**: 이 옵션은 `tee`에게 인터럽트 신호(`SIGINT`)를 무시하라고 지시합니다. 이는 `tee`를 포함하는 파이프라인이 인터럽트 신호에 의해 조기에 중단되지 않도록 하는 데 도움이 될 수 있습니다.

### 예시들

- **여러 파일에 쓰기**: `tee`는 한 번에 여러 파일에 쓸 수 있습니다. 이는 여러 위치에 아카이빙하거나 로깅하는 데 유용합니다.

  ```bash
  command | tee file1 file2
  ```

  여기서 `command`의 출력은 화면에 표시되고 `file1`과 `file2`에도 저장됩니다.

- **파일에 출력 추가하기**: 기존 내용을 덮어쓰지 않고 명령의 출력을 파일에 지속적으로 모니터링하고 로그하려면 다음을 사용할 수 있습니다:

  ```bash
  command | tee -a logfile.txt
  ```

  이 명령은 시스템 업데이트나 시간이 지남에 따라 이루어진 변경사항을 로깅하는 데 유용합니다.

- **다른 명령과 연결하기**: `tee`는 중간 결과를 관찰하기 위해 더 큰 명령 체인의 일부로 사용될 수 있습니다. 예를 들어, 로그 파일을 필터링하고 특정 단계에서 출력을 확인하면서 처리를 계속하고 싶다면 다음을 사용할 수 있습니다:
  ```bash
  cat logfile.txt | grep "ERROR" | tee errorlog.txt | grep "specific error"
  ```
  이 명령 시퀀스를 통해 모든 오류 로그를 `errorlog.txt`에 저장한 다음 특정 오류를 더 필터링할 수 있으며, 중간 출력은 화면에 표시됩니다.

### 실용적인 사용

`tee`의 실용적인 사용 사례는 스크립팅 및 배치 처리에서 진단을 위해 스크립트의 출력을 로그로 남기면서 실시간으로 진행 상황을 볼 수 있도록 하는 것입니다. 예를 들어, 데이터베이스 백업, 시스템 업데이트 또는 데이터 처리 작업 중에 `tee`는 프로세스를 실시간으로 모니터링하면서 로그 파일에 영구적인 기록을 생성하는 방법을 제공합니다.

`tee` 명령의 출력을 복제하는 능력은 디버깅, 로깅, 데이터 처리 워크플로우에서 Unix와 유사한 환경에서 소중한 도구로 만들어 줍니다. 이는 명령 출력의 가시성과 지속성을 모두 제공합니다.
