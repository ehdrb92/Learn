이 개념을 명확히 하는 데 도움이 되는 더 자세한 예시와 간단한 비유를 통해 RESTful API의 "주문형 코드" 원칙에 대해 더 자세히 살펴보겠습니다.

### 자세한 예제 웹 애플리케이션

온라인에서 사진을 편집할 수 있는 웹 애플리케이션을 사용한다고 가정해 보겠습니다. 이 애플리케이션은 서버가 사진을 업로드하고, 필터를 적용하고, 앨범을 관리하기 위한 다양한 엔드포인트를 제공하는 RESTful 서비스로 설계되었습니다. 여기서 "주문형 코드" 원칙을 활용하여 애플리케이션의 기능과 사용자 경험을 향상시킬 수 있습니다.

1. **초기 상호작용**: 사진 편집 애플리케이션을 처음 방문하면 브라우저(클라이언트)가 애플리케이션을 로드하도록 서버에 요청합니다. 서버는 애플리케이션을 렌더링하는 데 필요한 HTML, CSS, 초기 자바스크립트와 함께 사용자의 행동에 따라 추가 자바스크립트 코드를 전송하는 기능도 제공합니다.

2. **필터 적용하기**: 사진 중 하나에 필터를 적용하기로 결정했다고 가정해 보겠습니다. "필터" 메뉴를 클릭하면 애플리케이션에서 "흑백", "세피아", "빈티지" 등과 같은 다양한 옵션이 표시됩니다.

3. **주문형 코드 작동**: 필터를 선택할 때 애플리케이션이 이전에 이 필터를 적용하는 데 필요한 코드를 로드하지 않은 경우, "빈티지" 필터를 적용하는 데 필요한 코드(자바스크립트)를 서버에 구체적으로 요청합니다. 서버가 자바스크립트 코드로 응답하면 브라우저가 이를 실행하여 사진을 변형합니다.

4. **동적 향상**: 이 접근 방식을 사용하면 가능한 모든 코드를 미리 로드할 필요 없이 애플리케이션의 기능을 동적으로 향상시킬 수 있습니다. 사용자는 초기 로드 시간을 단축할 수 있고, 애플리케이션은 필요에 따라 추가 기능을 로드하기 때문에 대역폭을 덜 소비합니다.

### 더 간단한 비유: 자판기

자판기가 스낵을 분배하는 것 외에도 다양한 스낵을 조합하여 새로운 스낵 믹스를 만드는 방법이나 레시피를 분배할 수 있다고 생각해보세요.

- **초기 상호작용**: 간식을 먹기 위해 자판기에 다가갑니다. 자판기는 다양한 스낵을 제공하지만 스낵 믹스를 제안하는 기능도 있습니다.

- **옵션 선택하기**: 스낵 믹스가 궁금하여 해당 옵션을 선택합니다.

- **주문형 코드**: 자판기에서 가능한 모든 레시피를 인쇄하여 실제 책자로 제공하는 대신(비실용적이고 낭비적일 수 있음), 특정 스낵 믹스를 선택하면 자판기에서 주문형 레시피를 인쇄합니다.

- **동적 기능**: 이를 통해 자판기는 사용자에게 필요하지 않은 정보나 자료로 과부하를 주지 않고도 확장된 서비스(스낵 믹스 레시피)를 제공할 수 있으며, 상호 작용을 단순화하고 사용자 요구에 집중할 수 있습니다.

### 결론

RESTful API의 맥락에서 '코드 온디맨드'는 서버가 클라이언트 요청에 대한 응답으로 실행 코드를 전송하여 클라이언트의 기능을 동적으로 확장하거나 향상시킬 수 있게 해줍니다. 이 원칙은 클라이언트가 처음부터 가능한 모든 코드를 로드할 필요 없이 즉각적인 업데이트와 기능 향상을 가능하게 함으로써 웹 애플리케이션의 유연성과 사용자 경험을 크게 향상시킬 수 있습니다. 이는 RESTful 디자인이 어떻게 효율적이고 적응력이 뛰어나며, 필요한 시점에 정확하게 서비스와 기능을 제공할 수 있는지를 잘 보여줍니다.
